- form_tag('/transaction_headers/filter',:class => "ajax_form", :id => "transaction_filter_form", :submit_button_id => "filter_submit_button") do
  %input{:style => "display:none", :name => "enquiry"}
  .full_container
    -# id range filter
    .form_line
      .field_30
        %label &nbsp;
        %h2 Filter By ID Range
      .field_20
        %label Start ID
        %input{:id => "filter_start_id", :value => "", :name => "start_id"}
      .field_20
        %label End ID
        %input{:id => "filter_end_id", :value => "", :name => "end_id"}

    -# receipt range filter
    .form_line
      .field_30
        %label &nbsp;
        %h2 Filter By Receipt Range
      .field_20
        %label Start Receipt ID
        %input{:id => "filter_start_receipt_id", :value => "", :name => "start_receipt_id"}
      .field_20
        %label End Receipt ID
        %input{:id => "filter_end_receipt_id", :value => "", :name => "end_receipt_id"}

    -# system date range filter
    .form_line
      .field_30
        %label &nbsp;
        %h2 Filter By System Date
      .field_20
        %label Start Date
        %input{:id => "filter_start_system_date", :class => "startdatepick", :end_date => "filter_end_system_date", :value => "01-01-#{Date.today().year()}", :name => "start_system_date"}
      .field_20
        %label End Date
        %input{:id => "filter_end_system_date", :class => "enddatepick", :start_date => "filter_start_system_date", :value => "31-12-#{Date.today().year()}", :name => "end_system_date"}


    -# transaction date range filter
    .form_line
      .field_30
        %label &nbsp;
        %h2 Filter By Transaction Date
      .field_20
        %label Start Date
        %input{:id => "filter_start_transaction_date", :class => "startdatepick", :end_date => "filter_end_transaction_date", :value => "01-01-#{Date.today().year()}", :name => "start_transaction_date"}
      .field_20
        %label End Date
        %input{:id => "filter_end_transaction_date", :class => "enddatepick", :start_date => "filter_start_transaction_date", :value => "31-12-#{Date.today().year()}", :name => "end_transaction_date"}

    -# bank account number filter
    .form_line
      .field_30
        %label &nbsp;
        %h2 Filter By Bank Account Number
      .field_20
        %label Bank Account Number
        %select{:name => "bank_account_number"}
          %option{:value => "0"}All
          -@bank_accounts.each do |bank_account|  
            %option{:value => "#{bank_account.id}"}#{bank_account.account_number}
    -# banking status filter
    .form_line
      .field_30
        %label &nbsp;
        %h2 Filter By Banking Status
      .field_20
        %label Banking Status
        %select{:name => "banked"}
          %option{:value => "0"} All
          %option{:value => "true"}true
          %option{:value => "false"}false


    -# receipt type filter
    .form_line
      .field_30
        %label &nbsp;
        %h2 Filter By Receipt Type
      .field_20
        %label Receipt Meta Type
        %select{:name => "receipt_meta_type_id",:class => "select_ajax_call", :method => "GET", :url => "/transaction_headers/enquiry_show_receipt_type"}
          %option{:value => "0"}All
          -for i in @receipt_meta_types
            %option{:value => "#{i.id}"} #{i.name}
          
      .field_20
        %label Receipt Type
        - if ReceiptMetaMetaType.first.nil?
          %select{:disabled => true}
        -else
         
          %select{:name => "receipt_type_id",:id => "enquiry_receipt_type"}
            %option{:value => "0"}All
            -for i in @receipt_types
              %option{:value => "#{i.id}"} #{i.name}
          
      .field_20
        %label Receipt Via
        %select{:name => "received_via_id"}
          %option{:value => "0"}All
          -for i in @receipt_via
            %option{:value => "#{i.id}"} #{i.name}

    -# receipt account filter
    .form_line
      .field_30
        %label &nbsp;
        %h2 Filter By Receipt Account
      .field_20
        %label Receipt Account
        %select{:name => "receipt_account_id"}
          %option{:value => "0"}All
          -for i in @receipt_accounts
            %option{:value => "#{i.id}"} #{i.name}

    -# leter filter
    .form_line
      .field_30
        %label &nbsp;
        %h2 Filter By Letter
      .field_20
        %label Letter sent
        %select{:name => "letter_id"}
          %option{:value => "0"}All
         

    .form_line
      .field_30{:style => "float:right;"}
        %label &nbsp;
        = button_to_function "Filter", :class => "fake_submit_button", :form_id => "transaction_filter_form", :id => "filter_submit_button", :style => "float:right;"
