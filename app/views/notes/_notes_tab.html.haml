-# The main Address tab
.container
  %input.hidden{:id => "note_mode", :mode => "show"}
  .full_container
    #add_new_note
      .options
        = link_to_function image_tag('close_icon.png'), :class => "person_notes_close", :toggle_id_name => "new_note", :style => "display:none", :field => "note", :title=>"Close"
      .title
        = link_to_function image_tag('add_icon.png'), :id=>"add_note", :class=>"person_notes_toggle_button new_option", :toggle_id_name => "new_note" if (!person.nil? && !person.new_record?)
        &nbsp
      %h1 New Note
      %input{:type => "text", :id => "note_hidden_tab", :mode => "show", :style => "display:none"}
      %input{:id => "notes_input_change_or_not", :style => "display:none", :value => "false"}
      -form_for([@person,@note], :html => {:style => "display:none", :class => 'ajax_form add_note'}) do |note|
        = render :partial => '/notes/note_form', :locals => { :note => note }
        = submit_tag 'Submit',:id=>"note_new_submit",:disabled=> true

  #notes_list
    =# Render the person's notes
    = render :partial => '/notes/note'

  #edit_note{:style => "display:none;"}
    %h3{:style=>"display:inline;"} Edit
    .full_container
      .options
        = link_to_function image_tag('close_icon.png'), :field => "note", :style => "display:none;", :title=>"Close", :class => "close_option", :toggle_id_name => "edit_note", :toggle_id_name1 => "add_new_note"
      #edit_note_form
        = render :partial => '/notes/edit_note'

%script{:type => "text/javascript", :charset => "utf-8"}
  $("#show_notes_grid").flexigrid({
  url: '/grids/show_notes_grid',
  dataType: 'json',
  colModel : [
  {
  display: 'ID',
  name : 'id',
  width : 40,
  sortable : true,
  align: 'left'
  },

  {
  display: 'Label',
  name : 'label',
  width : 100,
  sortable : true,
  align: 'left'
  },

  {
  display: 'Short Description',
  name : 'short_description',
  width : 80,
  sortable : true,
  align: 'left'
  },

  {
  display: 'Body Text',
  name : 'body_text',
  width : 180,
  sortable : true,
  align: 'left'
  },
  {
  display: 'Active',
  name : 'active',
  width : 40,
  sortable : true,
  align: 'left'
  }
  ],
  searchitems : [
  {
  display: 'Label',
  name : 'label'
  },

  {
  display: 'Short Description',
  name : 'short_description'
  },

  {
  display: 'Body Text',
  name : 'body_text'
  },
  {
  display: 'Active',
  name : 'Active'
  }
  ],
  sortname: "id",
  sortorder: "asc",
  usepager: true,
  title: 'Notes',
  useRp: true,
  rp: 20,
  showTableToggleBtn: false,
  width: 'auto',
  height: 'auto'
  });