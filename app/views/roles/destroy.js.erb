<%- if flash[:error].nil?%>
$('#<%= dom_id(@role) %>').fadeOut("slow", function() {$(this).remove();});
<%else%>
 $('#flash_message_text').html('<%= escape_javascript(flash[:error]) %>');
  $('#flash_message').dialog({
    modal: true,
    resizable: false,
    draggable :true,
    height: "auto",
    width: "auto",
    buttons: {
      Ok: function() {
            $(this).dialog('close');
          }
    }
  });
  $('#flash_message').dialog('option', 'title', 'Error');
  $('#flash_message').parent().find("a").css("display","none");
  $("#flash_message").parent().css('background-color','#D1DDE6');
  $("#flash_message").css('background-color','#D1DDE6');
  $('#flash_message').dialog('open');
<%end%>
