<% unless flash[:error].nil? %>
$("#flash_message").html("<%= escape_javascript(flash[:error]) %>");
$('#flash_message').dialog( {
    modal: true,
    resizable: true,
    draggable: true,
    position: 'top',
    buttons: {
      Ok: function() {
        $(this).dialog('close');
      }
    }
  });
$('#flash_message').dialog('open');
<% else %>
$("#tag_meta_type_form").html('');
$('#tag_meta_type_form').dialog('close');
$("#tag_meta_type_<%= escape_javascript("#{@tag_meta_type.id}")%>").replaceWith("<%= escape_javascript(render(:partial => '/tag_meta_types/tag_meta_type', :locals => {:tag_meta_type => @tag_meta_type})) %>");
$("#tag_meta_type_<%= escape_javascript("#{@tag_meta_type.id}")%>").addClass('open active');
<% end %>
