%ul#menu

  - # Person Menu
  %li{:id => @current_controller == "people" ? "menu_active" : ""}
    .top
    .item
      = link_to @current_controller == "people" ? "#{image_tag('icon_holder.png')} Person" : "Person", :controller => "people", :action => "show", :id => (@person.nil?) ? "" : @person.id
      - if @current_controller == "people"
        %ul
          %li{:id => @current_action == "show" ? "selected" : ""}
            = link_to "#{image_tag('icon_holder.png')} Profile", :controller => "people", :action => "show", :id => @person.id
          %li{:id => @current_action == "new" ? "selected" : ""}
            = link_to "#{image_tag('icon_holder.png')} Add", :controller => "people", :action => "new"
          %li{:id => @current_action == "edit" ? "selected" : ""}
            - if !(@person.nil? || @person.new_record?)
              = link_to "#{image_tag('icon_holder.png')} Edit", :controller => "people", :action => "edit", :id => @person.id
            - else
              = link_to "#{image_tag('icon_holder.png')} Edit", :controller => "people", :action => "edit"
          %li{:id => (@current_action == "find" || @current_action == "search") ? "selected" : ""}
            = link_to "#{image_tag('icon_holder.png')} Search", :controller => "people", :action => "find"
    .bottom

  - # Organisation Menu
  %li{:id => @current_controller == "organisations" ? "menu_active" : ""}
    .top
    .item
      = link_to @current_controller == "organisations" ? "#{image_tag('icon_holder.png')} Organisation" :"Organisation", :controller => "organisations", :action => "show", :id => (@organisation.nil?) ? "" : @organisation.id
      - if @current_controller == "organisations"
        %ul
          %li{:id => @current_action == "show" ? "selected" : ""}
            = link_to "#{image_tag('icon_holder.png')} Profile", :controller => "organisations", :action => "show", :id => @organisation.id
          %li{:id => @current_action == "new" ? "selected" : ""}
            = link_to "#{image_tag('icon_holder.png')} Add", :controller => "organisations", :action => "new"
          %li{:id => @current_action == "edit" ? "selected" : ""}
            - if !(@organisation.nil? || @organisation.new_record?)
              = link_to "#{image_tag('icon_holder.png')} Edit", :controller => "organisations", :action => "edit", :id => @organisation.id
            - else
              = link_to "#{image_tag('icon_holder.png')} Edit", :controller => "organisations", :action => "edit"
          %li{:id => (@current_action == "find" || @current_action == "search") ? "selected" : ""}
            = link_to "#{image_tag('icon_holder.png')} Search", :controller => "organisations", :action => "find"
    .bottom

  - # List of Lists Menu
  %li{:id => @current_controller == "lists" ? "menu_active" : ""}
    .top
    .item
      List
    .bottom

  - # Report Menu
  %li{:id => @current_controller == "reports" ? "menu_active" : ""}
    .top
    .item
      = link_to @current_controller == "reports" ? "#{image_tag('icon_holder.png')} Reporting" :"Reporting", :controller => "reports", :action => "index"
      - if @current_controller == "reports"
        %ul
          %li{:id => @current_action == "index" ? "selected" : ""}
            = link_to "#{image_tag('icon_holder.png')} Reporting", :controller => "reports", :action => "index"
    .bottom