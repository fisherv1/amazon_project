$('#<%= dom_id(@person_role) %>').replaceWith(" <%= escape_javascript(render(:partial => 'edit_person_role')) %>");
    $('.person_roles_edit_delete').css("display","none");
  $('.person_roles_toggle_button').css("display","none");
  $('#add_new_person_role').css("display","none");
  $('.mandantory_field').keyup();
  $('.beforestartdatepick').datepicker({
        showOn: 'button',
        buttonImage: '/images/Icons/System/calendar.png',
        buttonImageOnly: true,
        dateFormat: 'dd-mm-yy',
        altFormat: 'mm-dd-yy',
        changeMonth: true,
        changeYear: true,
        yearRange: '-200:+20',
        beforeShow: function(){
            var arr_dateText = $("#"+$(this).attr("end_date")).val().split("-");
            day = arr_dateText[0];
            month = arr_dateText[1];
            year = arr_dateText[2];
            if(year!=undefined){
                $(this).datepicker('option', 'maxDate', new Date(year, month-1, day));
            }
        }
    });

$('.role_startdatepick').datepicker({
        showOn: 'button',
        buttonImage: '/images/Icons/System/calendar.png',
        buttonImageOnly: true,
        dateFormat: 'dd-mm-yy',
        altFormat: 'mm-dd-yy',
        changeMonth: true,
        changeYear: true,
        yearRange: '-200:+20',
        beforeShow: function(){
            var arr_dateText = $("#"+$(this).attr("end_date")).val().split("-");
            day = arr_dateText[0];
            month = arr_dateText[1];
            year = arr_dateText[2];
            if(year!=undefined){
                $(this).datepicker('option', 'maxDate', new Date(year, month-1, day));
            }
            var arr_dateText_start = $("#"+$(this).attr("start_date")).val().split("-");
            day_start = arr_dateText_start[0];
            month_start = arr_dateText_start[1];
            year_start = arr_dateText_start[2];
            if(year_start!=undefined){
                $(this).datepicker('option', 'minDate', new Date(year_start, month_start-1, day_start));
            }
        },
        onSelect: function(){
            $("#"+$(this).attr("end_date")).datepicker('enable');
        },
        onClose: function(){
             $(this).keyup();
        }
    });

$('.role_enddatepick').datepicker({
        showOn: 'button',
        buttonImage: '/images/Icons/System/calendar.png',
        buttonImageOnly: true,
        dateFormat: 'dd-mm-yy',
        altFormat: 'mm-dd-yy',
        changeMonth: true,
        changeYear: true,
        yearRange: '-200:+20',
        beforeShow: function(){
            var arr_dateText = $("#"+$(this).attr("start_date")).val().split("-");
            day = arr_dateText[0];
            month = arr_dateText[1];
            year = arr_dateText[2];
            if(year!=undefined){
                $(this).datepicker('option', 'minDate', new Date(year, month-1, day));
            }
        }
    });

