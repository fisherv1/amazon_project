.full_container
  %h2 Existing Postcodes

  %table#show_postcodes_by_country_grid{:class=>"selectable_grid",:field=>"postcode",:db_click_function=>"true",:edit=>"true",:db_click_url=>"/postcodes/"}
%script{:type => "text/javascript", :charset => "utf-8"}
  :plain
    delete_from_a_grid = function(){
    delete_from_grid($("#show_postcodes_by_country_grid tr.trSelected").attr('id'),"#postcode_mode","delete","/postcodes/");
    };

    retrieve_from_a_grid = function(){
    retrieve_from_grid($("#show_postcodes_by_country_grid tr.trSelected").attr('id'),"#postcode_mode","get","/postcodes/retrieve_postcode.js");
    };
    $("#show_postcodes_by_country_grid").flexigrid({
    url: '/grids/show_postcodes_by_country_grid',
    dataType: 'json',
    colModel : [
    {
        display: 'ID',
        name : 'id',
        width : 40,
        sortable : true,
        align: 'left'
    },

    {
        display: 'State',
        name : 'state',
        width : 100,
        sortable : true,
        align: 'left'
    },

    {
        display: 'Suburb',
        name : 'suburb',
        width : 100,
        sortable : true,
        align: 'left'
    },

    {
        display: 'Postcode',
        name : 'postcode',
        width : 100,
        sortable : true,
        align: 'left'
    },

    {
        display: 'Geo Area',
        name : 'post_areas.division_name',
        width : 100,
        sortable : true,
        align: 'left'
    },

    {
        display: 'Electoral Area',
        name : 'post_areas.division_name',
        width : 200,
        sortable : true,
        align: 'left'
    }
    ],
    searchitems : [
    {
        display: 'State',
        name : 'state'
    },

    {
        display: 'Suburb',
        name : 'suburb'
    },

    {
        display: 'Postcode',
        name : 'postcode'
    },

    {
        display: 'Geo Area',
        name : 'post_areas.division_name'
    },

    {
        display: 'Electoral Area',
        name : 'post_areas.division_name'
    }
    ],
    buttons : [
            {name: '', bclass: 'delete delete_button_on_grid', onpress : delete_from_a_grid},
            {name: '', bclass: 'get retrieve_button_on_grid', onpress : retrieve_from_a_grid}
        ],
    sortname: "postcodes.id",
    sortorder: "asc",
    usepager: true,
    title: '',
    useRp: true,
    rp: 20,
    showTableToggleBtn: false,
    width: 'auto',
    height: 'auto'
    });